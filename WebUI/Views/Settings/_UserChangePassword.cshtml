@model WebUI.Models.UserChangePasswordView

@using (Ajax.BeginForm("UserChangePassword", new { controller = "Settings" }, new AjaxOptions
    {
        HttpMethod = "post",
        //OnComplete = "onComplete",
        OnSuccess = "onSuccessChange",
        //InsertionMode = System.Web.Mvc.Ajax.InsertionMode.Replace
    }, new { id = "FormChangePassword"}))
{
    <div class="modal fade" id="mChangePass" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Закрыть</span></button>
                    <h4 class="modal-title" id="myModalLabel">Сменить пароль</h4>
                </div>


                <div class="col-lg-12" style="margin-top:15px;">
                    <div class="col-lg-4" style="padding:7px 0 0 0;text-align:right;">
                        @Html.LabelFor(m => m.Password, new { @class = "label-normal label-sm" })
                    </div>
                    <div class="col-lg-5" style="margin-bottom:7px;">
                        @Html.PasswordFor(m => m.Password, new { @class = "form-control", maxlength = "256" })
                        <span class="error-text">
                            @Html.ValidationMessageFor(m => m.Password)
                        </span>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="col-lg-4" style="padding:7px 0 0 0;text-align:right;">
                        @Html.LabelFor(m => m.ConfirmPassword, new { @class = "label-normal label-sm" })
                    </div>
                    <div class="col-lg-5">
                        @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", maxlength = "256" })
                        <span class="error-text">
                            @Html.ValidationMessageFor(m => m.ConfirmPassword)
                        </span>
                    </div>
                </div>

                @Html.AntiForgeryToken()
                @Html.HiddenFor(m => m.UserId)
                <div class="col-lg-12">
                    <hr />
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-danger btn-sm">Сохранить</button>
                    <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Закрыть</button>
                </div>
            </div>
        </div>
    </div>
}

