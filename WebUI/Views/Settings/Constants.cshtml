@model Domain.Entities.Constant

@{
    ViewBag.Title = "Константы";
    Layout = "~/Views/Shared/_LayoutSettings.cshtml";
}

<h1 class="span-title">Константы</h1>
<div class="row" style="min-height:700px;">
    @using (Ajax.BeginForm("constantadd", "settings", new AjaxOptions
    {
        HttpMethod = "post",
        OnSuccess = "OnSuccess",
        UpdateTargetId = "ConstantList",
        InsertionMode = System.Web.Mvc.Ajax.InsertionMode.Replace,
        LoadingElementId = "progr"
    }))
    {
        <div class="col-lg-12 no-padding" style="margin-top:20px;">
            <div class="col-lg-6">
                @Html.TextBoxFor(m => m.Name, new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.Name)
            </div>
            <div class="col-lg-2">
                @Html.AntiForgeryToken()
                <button type="submit" class="btn btn-danger" name="action" value="ConstantSave">
                    Добавить
                </button>
            </div>
            <div class="col-lg-2">
                <i class="fa fa-spinner fa-pulse" id="progr" style="display:none;padding:10px;"></i>
            </div>
        </div>
    }
    <div class="col-lg-12">
        <hr />
    </div>
    @Html.Action("ConstantList", "settings")
</div>

<script type="text/javascript">
    function OnSuccess() {
        $('#form0')[0].reset();
    }
</script>
